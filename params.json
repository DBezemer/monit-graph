{"google":"","tagline":"PHP graphing and logging tool for Monit, to graph and analyse process and/or server performance.","note":"Don't delete this file! It's used internally to help with page regeneration.","body":"#Monit Graph\r\n\r\nMonit Graph is a logging and graphing tool for Monit written in PHP5. It can manage big amounts of data, and will keep a history of Monit statuses.\r\n\r\n![Monit Graph Overview Panel](http://dreamconception.com/wp-content/uploads/2012/06/monit-graph-overview1.png)\r\n\r\n![Monit Graph Detail Panel](http://dreamconception.com/wp-content/uploads/2012/06/monit-graph-detail1.png)\r\n\r\n####Features\r\n* Easy to manage and customize\r\n* Several different graphs (Google Charts) of memory, cpu, swap and alert activity\r\n* Data logging with XML files\r\n* Chunk rotation and size limitation\r\n* Multiple server setup\r\n\r\n\r\n##Get started\r\n\r\nTo get started, you will first need to have Monit installed and enabled with HTTP access. You can read more under \"Setting up Monit\".\r\n\r\n1. Change permissions for data directory to 777.\r\n2. Change permissions for data/index.php to 644.\r\n3. Modify config.php to match your setup of monit as well as needs of graphing.\r\n4. Setup a crontab job to run cron.php every minute. Example:\r\n    \\* * * * * php /path/to/monit/cron.php >>/var/log/monit-graph.log\r\n5. Verify after a few minutes of running that the logging happens. You can check the php error log if there seams to be something wrong.\r\n\r\n\r\n##Setting up Monit\r\n\r\nTo setup Monit on Ubuntu, please follow the below steps.\r\n\r\n#### Install Monit\r\n\r\n    # sudo apt-get update\r\n    # sudo apt-get install monit\r\n\r\n#### Edit configuration file for Monit\r\n\r\n    # sudo vi /etc/monit/monitrc\r\n\r\nMake sure the following parameters are set correctly (these are examples, adjust accordingly):\r\n\r\n    set idfile /var/run/monit-id\r\n    set statefile /var/run/monit-state\r\n    set daemon 60\r\n    set logfile /var/log/monit.log\r\n\r\n    set mailserver localhost\r\n    set mail-format { from: monit@mydomain.com }\r\n\r\n    set alert myemail@myemaildomain.com\t\t\t\t\t\t\t\t# receive all alerts\r\n    set httpd port 2812 and use the address XX.XX.XX.XX\t\t\t# Remove \"and use the address XX.XX.XX.XX\", if not bind to specific IP\r\n    \tssl enable\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t# Enabling SSL\r\n    \tpemfile /etc/ssl/monit.pem\t\t\t\t\t\t\t\t\t\t\t\t# The PEM file\r\n    \tsignature disable\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t# No server signature to send\r\n    \tallow mylogin:\"mypassword\"\t\t\t\t\t\t\t\t\t\t\t\t# Login\r\n\r\nRemember to allow httpd to run, or else Monit graph cannot contact you.\r\n\r\n#### Add services to Monit\r\n\r\nAdd a few configuration files into the /etc/monit/conf.d/ directory. You can use the examples from the monitrc directory.\r\n\r\nCheck if the configuration are good:\r\n\r\n    # monit -t\r\n\r\n#### Restart Monit with the new configuration\r\n\r\nRestart\r\n\r\n    # service monit restart\r\n\r\n\r\n##Tips\r\n\r\n1. If the script have trouble managing big amounts of data, try increase the allowed allocated memory in a .htaccess\r\n\r\n2. REMEMBER to password protect the directory with .htaccess or anything appropriate\r\n\r\n3. Loading many services can be very heavy for your browser, try specify the services you wish be shown.\r\n\r\n4. For added security, remove the tools directory\r\n\r\n##Links\r\n[Blog post about Monit and Monit-Graph](http://dreamconception.com/tools/measure-your-server-performance-with-monit-and-monit-graph/)\r\n\r\n[Official Monit Website](http://mmonit.com/monit/)\r\n\r\n\r\n##About\r\nDan Schultzer works at Dream Conception (http://dreamconception.com/) and Abcel (http://abcel-online.com). This script was developed to increase the usability of Monit.","name":"Monit-graph"}